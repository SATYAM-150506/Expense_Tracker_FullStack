{"ast":null,"code":"import _objectSpread from\"D:/Expense_Tracker_2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[formErrors,setFormErrors]=useState({});const{login,loading,error,isAuthenticated,clearError}=useAuth();const navigate=useNavigate();// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated){navigate('/dashboard');}},[isAuthenticated,navigate]);// Clear errors when component mounts (only once)\nuseEffect(()=>{clearError();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const{email,password}=formData;const onChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));// Clear field error when user starts typing\nif(formErrors[e.target.name]){setFormErrors(_objectSpread(_objectSpread({},formErrors),{},{[e.target.name]:''}));}};const validateForm=()=>{const errors={};if(!email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(email)){errors.email='Email is invalid';}if(!password){errors.password='Password is required';}else if(password.length<6){errors.password='Password must be at least 6 characters';}return errors;};const onSubmit=async e=>{e.preventDefault();const errors=validateForm();if(Object.keys(errors).length>0){setFormErrors(errors);return;}const result=await login(formData);if(result.success){navigate('/dashboard');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 animate-fadeIn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-md p-8 animate-slideUp\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-primary-600 mb-2\",children:\"\\uD83D\\uDD10 Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Sign in to continue managing your expenses\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg mb-6\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u26A0\\uFE0F\"}),error]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uD83D\\uDCE7 Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",className:\"form-input\",value:email,onChange:onChange,placeholder:\"Enter your email address\"}),formErrors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-danger-600\",children:formErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uD83D\\uDD12 Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",className:\"form-input\",value:password,onChange:onChange,placeholder:\"Enter your password\"}),formErrors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-danger-600\",children:formErrors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full btn btn-primary btn-lg\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),\"Signing In...\"]}):'üöÄ Sign In'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Don't have an account? \",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary-600 font-semibold hover:text-primary-700 transition-colors\",children:\"Sign up here\"})]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","formErrors","setFormErrors","login","loading","error","isAuthenticated","clearError","navigate","onChange","e","_objectSpread","target","name","value","validateForm","errors","trim","test","length","onSubmit","preventDefault","Object","keys","result","success","className","children","htmlFor","type","id","placeholder","disabled","to"],"sources":["D:/Expense_Tracker_2/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const { login, loading, error, isAuthenticated, clearError } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/dashboard');\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Clear errors when component mounts (only once)\r\n  useEffect(() => {\r\n    clearError();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const { email, password } = formData;\r\n\r\n  const onChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n    // Clear field error when user starts typing\r\n    if (formErrors[e.target.name]) {\r\n      setFormErrors({\r\n        ...formErrors,\r\n        [e.target.name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n    if (!email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      errors.email = 'Email is invalid';\r\n    }\r\n\r\n    if (!password) {\r\n      errors.password = 'Password is required';\r\n    } else if (password.length < 6) {\r\n      errors.password = 'Password must be at least 6 characters';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const errors = validateForm();\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    const result = await login(formData);\r\n    if (result.success) {\r\n      navigate('/dashboard');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 animate-fadeIn\">\r\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8 animate-slideUp\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-primary-600 mb-2\">üîê Welcome Back</h1>\r\n          <p className=\"text-gray-600\">\r\n            Sign in to continue managing your expenses\r\n          </p>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div className=\"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded-lg mb-6\">\r\n            <span className=\"flex items-center\">\r\n              <span className=\"mr-2\">‚ö†Ô∏è</span>\r\n              {error}\r\n            </span>\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={onSubmit} className=\"space-y-6\">\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              üìß Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              className=\"form-input\"\r\n              value={email}\r\n              onChange={onChange}\r\n              placeholder=\"Enter your email address\"\r\n            />\r\n            {formErrors.email && (\r\n              <div className=\"mt-2 text-sm text-danger-600\">\r\n                {formErrors.email}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              üîí Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              className=\"form-input\"\r\n              value={password}\r\n              onChange={onChange}\r\n              placeholder=\"Enter your password\"\r\n            />\r\n            {formErrors.password && (\r\n              <div className=\"mt-2 text-sm text-danger-600\">\r\n                {formErrors.password}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className=\"w-full btn btn-primary btn-lg\" \r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <span className=\"flex items-center justify-center\">\r\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                Signing In...\r\n              </span>\r\n            ) : (\r\n              'üöÄ Sign In'\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"text-center mt-8\">\r\n          <p className=\"text-gray-600\">\r\n            Don't have an account? {' '}\r\n            <Link \r\n              to=\"/register\" \r\n              className=\"text-primary-600 font-semibold hover:text-primary-700 transition-colors\"\r\n            >\r\n              Sign up here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}