{"ast":null,"code":"import React from'react';import{PieChart,Pie,Cell,ResponsiveContainer,Legend,Tooltip}from'recharts';import{useTheme}from'../context/ThemeContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExpensePieChart=_ref=>{let{stats}=_ref;const{isDarkMode}=useTheme();if(!stats||!stats.categoryStats||stats.categoryStats.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No category data available\"})});}const COLORS={Food:'#ff6b6b',Transportation:'#4ecdc4',Entertainment:'#45b7d1',Healthcare:'#f39c12',Shopping:'#e74c3c',Bills:'#9b59b6',Education:'#2ecc71',Travel:'#1abc9c',Other:'#95a5a6'};const chartData=stats.categoryStats.map(item=>({name:item._id,value:parseFloat(item.totalAmount.toFixed(2)),count:item.count}));const CustomTooltip=_ref2=>{let{active,payload}=_ref2;if(active&&payload&&payload.length){const data=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-800 dark:text-white\",children:data.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-300\",children:[\"$\",data.value.toFixed(2),\" (\",data.count,\" \",data.count===1?'expense':'expenses',\")\"]})]});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83D\\uDCCA\"}),\"Spending Distribution by Category\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row items-center justify-center gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-1/2 flex justify-center\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:chartData,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref3=>{let{name,value}=_ref3;return\"\".concat(name,\": $\").concat(value);},outerRadius:100,fill:\"#8884d8\",dataKey:\"value\",children:chartData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[entry.name]||'#95a5a6'},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},formatter:value=>/*#__PURE__*/_jsx(\"span\",{className:isDarkMode?'text-gray-300':'text-gray-700',children:value})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-1/2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:chartData.map((item,index)=>{const percentage=(item.value/stats.totalAmount*100).toFixed(1);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full\",style:{backgroundColor:COLORS[item.name]}}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-200\",children:item.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-gray-800 dark:text-white\",children:[\"$\",item.value.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[percentage,\"% (\",item.count,\" expenses)\"]})]})]},index);})})})]})]});};export default ExpensePieChart;","map":{"version":3,"names":["React","PieChart","Pie","Cell","ResponsiveContainer","Legend","Tooltip","useTheme","jsx","_jsx","jsxs","_jsxs","ExpensePieChart","_ref","stats","isDarkMode","categoryStats","length","className","children","COLORS","Food","Transportation","Entertainment","Healthcare","Shopping","Bills","Education","Travel","Other","chartData","map","item","name","_id","value","parseFloat","totalAmount","toFixed","count","CustomTooltip","_ref2","active","payload","data","width","height","cx","cy","labelLine","label","_ref3","concat","outerRadius","fill","dataKey","entry","index","content","wrapperStyle","paddingTop","formatter","percentage","style","backgroundColor"],"sources":["D:/Expense_Tracker_2/frontend/src/components/ExpensePieChart.js"],"sourcesContent":["import React from 'react';\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts';\r\nimport { useTheme } from '../context/ThemeContext';\r\n\r\nconst ExpensePieChart = ({ stats }) => {\r\n  const { isDarkMode } = useTheme();\r\n\r\n  if (!stats || !stats.categoryStats || stats.categoryStats.length === 0) {\r\n    return (\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center\">\r\n        <p className=\"text-gray-500 dark:text-gray-400\">No category data available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const COLORS = {\r\n    Food: '#ff6b6b',\r\n    Transportation: '#4ecdc4',\r\n    Entertainment: '#45b7d1',\r\n    Healthcare: '#f39c12',\r\n    Shopping: '#e74c3c',\r\n    Bills: '#9b59b6',\r\n    Education: '#2ecc71',\r\n    Travel: '#1abc9c',\r\n    Other: '#95a5a6'\r\n  };\r\n\r\n  const chartData = stats.categoryStats.map((item) => ({\r\n    name: item._id,\r\n    value: parseFloat(item.totalAmount.toFixed(2)),\r\n    count: item.count\r\n  }));\r\n\r\n  const CustomTooltip = ({ active, payload }) => {\r\n    if (active && payload && payload.length) {\r\n      const data = payload[0].payload;\r\n      return (\r\n        <div className=\"bg-white dark:bg-gray-700 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600\">\r\n          <p className=\"font-semibold text-gray-800 dark:text-white\">{data.name}</p>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n            ${data.value.toFixed(2)} ({data.count} {data.count === 1 ? 'expense' : 'expenses'})\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8\">\r\n      <h3 className=\"text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center\">\r\n        <span className=\"mr-2\">ðŸ“Š</span>\r\n        Spending Distribution by Category\r\n      </h3>\r\n      \r\n      <div className=\"flex flex-col lg:flex-row items-center justify-center gap-8\">\r\n        {/* Pie Chart */}\r\n        <div className=\"w-full lg:w-1/2 flex justify-center\">\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <PieChart>\r\n              <Pie\r\n                data={chartData}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value }) => `${name}: $${value}`}\r\n                outerRadius={100}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {chartData.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={COLORS[entry.name] || '#95a5a6'} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip content={<CustomTooltip />} />\r\n              <Legend \r\n                wrapperStyle={{ paddingTop: '20px' }}\r\n                formatter={(value) => <span className={isDarkMode ? 'text-gray-300' : 'text-gray-700'}>{value}</span>}\r\n              />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Category Details */}\r\n        <div className=\"w-full lg:w-1/2\">\r\n          <div className=\"space-y-3\">\r\n            {chartData.map((item, index) => {\r\n              const percentage = ((item.value / stats.totalAmount) * 100).toFixed(1);\r\n              return (\r\n                <div key={index} className=\"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div\r\n                      className=\"w-3 h-3 rounded-full\"\r\n                      style={{ backgroundColor: COLORS[item.name] }}\r\n                    ></div>\r\n                    <span className=\"font-medium text-gray-700 dark:text-gray-200\">{item.name}</span>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"font-bold text-gray-800 dark:text-white\">${item.value.toFixed(2)}</p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">{percentage}% ({item.count} expenses)</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpensePieChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}